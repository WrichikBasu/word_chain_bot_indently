## How to do migrations

> NOTE: We changed the config file name from `alembic.ini` to `config.ini` because we also use it as our general config.
> That's why we have to give the config file explicitly when executing alembic.

* change the model classes in `model.py`
* create revision with the console
  * either as an autogenerated change: `alembic -c config.ini revision --autogenerate -m "<describe the change here>"`
  * or as am empty change: `alembic -c config.ini revision -m "<describe the change here>"`
* check the new file and change it if necessary (table and column renames are usually not detected by autogenerate)
* apply the change with `alembic -c config.ini upgrade head` (or run the bot, which applies it as well in the setup hook)
* to revert the last change, run `alembic -c config.ini downgrade -1`